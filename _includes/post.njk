---
layout: base.njk
---

<section class="container-fluid border-bottom">
    <div class="row row-full-height">
        
        <div class="col-md-4 col-12 d-flex flex-column justify-content-center text-white col-centered p-3 p-md-5" 
             style="background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url('{{ image or metadata.image }}'); background-size: cover; background-position: center; min-height: 50vh;">
            <div class="col-md-10 mx-auto">
                <nav class="breadcrumbs small mb-3 text-uppercase opacity-75">
                    {%- for crumb in page.date | breadcrumbs(title, metadata) -%}
                        {% if crumb.url %}<a href="{{ crumb.url }}" class="text-white text-decoration-none">{{ crumb.text }}</a>{% else %}<span>{{ crumb.text }}</span>{% endif %}
                        {%- if not loop.last %} / {% endif -%}
                    {%- endfor -%}
                </nav>
                
                <h1 class="text-uppercase text-hero-posts 
                fw-bold">{{ title }}</h1>
                {% if description %}<h2 class="lead my-3">{{ description }}</h2>{% endif %}
                <p class="small">{{ page.date | readableDate }}</p>
            </div>
        </div>

        <div class="col-md-8 p-3 p-md-5 col-scrollable bg-white">
            <div class="mb-5">
                <a href="/archive/" class="text-dark text-decoration-none"><i class="fas fa-arrow-left me-2"></i> Back</a>
            </div>

            {% set contentWithIDs = content | addHeadingIDs %}
            <div class="mb-5 tocus p-4 border-start border-4 border-dark bg-light">
                <h3 class="fw-bold h5 text-uppercase">Table of Contents</h3>
                {{ contentWithIDs | toc | safe }} 
            </div>

            <article class="post-article fs-5">
                {{ contentWithIDs | safe }}
            </article>

            <div class="mt-5 pt-5 border-top small">
                <p><strong>Tags:</strong> 
                    {% for tag in tags %}{% if tag != "posts" %}
                        <a href="/tags/{{ tag | slugify }}/" class="badge text-bg-light border text-decoration-none me-1">{{ tag | displayName }}</a>
                    {% endif %}{% endfor %}
                </p>
                {% if author %}
                    <p>By <span class="fw-bold"><a href="/contributor/{{ author | slugify }}/" class="text-decoration-none text-dark">{{ author }}</a></span></p>
                {% endif %}
            </div>

            <div class="row mt-5 pt-4">
                {% set previousPost = collections.posts | getPreviousCollectionItem(page) %}
                {% set nextPost = collections.posts | getNextCollectionItem(page) %}
                <div class="col-6">
                    {% if previousPost %}<a href="{{ previousPost.url }}" class="nav-link text-muted small">&larr; {{ previousPost.data.title }}</a>{% endif %}
                </div>
                <div class="col-6 text-end">
                    {% if nextPost %}<a href="{{ nextPost.url }}" class="nav-link text-muted small">{{ nextPost.data.title }} &rarr;</a>{% endif %}
                </div>
            </div>
        </div>
    </div>
</section>