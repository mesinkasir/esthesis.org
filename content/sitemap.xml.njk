---
permalink: /sitemap.xml
eleventyExcludeFromCollections: true
---

<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="https://www.sitemaps.org/schemas/sitemap/0.9">
  {% set baseUrl = metadata.url | baseUrl %}
  <!-- Home Page -->
  <url>
    <loc>{{ "/" | absUrl(baseUrl) }}</loc>
    <lastmod>{{ buildinfo.now | isoDate }}</lastmod>
    <changefreq>daily</changefreq>
    <priority>1.0</priority>
  </url>

  <!-- Blog Posts -->
  {%- for post in collections.posts %}
  <url>
    <loc>{{ post.url | absUrl(baseUrl) }}</loc>
    <lastmod>{{ post.date | htmlDateString }}</lastmod>
    <changefreq>monthly</changefreq>
    <priority>0.8</priority>
  </url>
  {%- endfor %}

  <!-- Regular Pages (About, Archive, Blog, Search, etc.) -->
  {%- for page in collections.all %}
  {%- if page.url and not page.data.eleventyExcludeFromCollections and page.url !== "/" %}
  <url>
    <loc>{{ page.url | absUrl(baseUrl) }}</loc>
    <changefreq>monthly</changefreq>
    <priority>0.5</priority>
  </url>
  {%- endif %}
  {%- endfor %}

  <!-- Feed URLs -->
  <url>
    <loc>{{ "/feed/feed.rss" | absUrl(baseUrl) }}</loc>
    <lastmod>{{ buildinfo.now | isoDate }}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>
  <url>
    <loc>{{ "/feed/feed.xml" | absUrl(baseUrl) }}</loc>
    <lastmod>{{ buildinfo.now | isoDate }}</lastmod>
    <changefreq>daily</changefreq>
    <priority>0.9</priority>
  </url>

  <!-- Author Feeds -->
  {%- for author in collections.authors %}
  <url>
    <loc>{{ ("/feed/author-" + (author | slugify) + ".xml") | absUrl(baseUrl) }}</loc>
    <lastmod>{{ buildinfo.now | isoDate }}</lastmod>
    <changefreq>weekly</changefreq>
    <priority>0.7</priority>
  </url>
  {%- endfor %}
</urlset>
